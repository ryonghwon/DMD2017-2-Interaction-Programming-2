<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/reset.css"/>
    <link rel="stylesheet" href="./css/style.css"/>
    <script type="text/javascript" src="./js/libs/jquery.min.js"></script>  
    <title>8주차 과제</title>
</head>
<body>
    <header>
        <div class="talk-icon"></div>
        <div class="time"></div>
    </header>
    <p class="error1">메세지를 전송하지 못하였습니다.</p>
    <p class="error2">일시적 오류입니다. 다시 시도해 주십시오.</p>
    <div class="body">
        <div class="talkroom-List"> 
            <div class="talkroom-List-header">
                <h1>채팅</h1>
                <ul>
                    <li class="search"><a>검색</a></li>
                    <li class="more"><a>더보기</a></li>                
                </ul>
            </div>
            <div class="talk-menu">
                <ul>
                    <li class="talk-menu-item"><a>profile</a><span class="bar">bar</span></li>
                    <li class="talk-menu-item"><a>chat</a><span class="bar sel">bar</span></li>
                    <li class="talk-menu-item"><a>issue</a><span class="bar">bar</span></li>
                    <li class="talk-menu-item"><a>game</a><span class="bar">bar</span></li>
                    <li class="talk-menu-item"><a>etc</a><span class="bar">bar</span></li>
                </ul>
            </div>
            <a class="talkroom-button">
                <p class="talkroom-pic"></p>
                <dl>
                    <dt class="talkroom-name">과제괴물</dt>
                    <dd class="talkroom-talk">(이모티콘)</dd>
                </dl>
                <p class="sendtime">오후 5:35</p>
            </a>
        </div>
        <div class="talkroom">
            <div class="talkroom-header">
                <button class="back">뒤로</button>
                <p class="talkroom-sub">과제괴물</p>
                <ul>
                    <li class="search"><a>검색</a></li>
                    <li class="more"><a>더보기</a></li>                
                </ul>
            </div>
            <div class="messages">
                <div class="send-message">
                    과제 제출합니다.
                </div>
                <div class="imo1">
                        &nbsp;
                </div>
                <div class="imo2">
                        &nbsp;
                </div>
                <div class="send-message">
                        답장좀
                </div>
                <div class="user">
                    <p class="user-pic"></p>
                    <div class="imo3">
                            &nbsp;
                    </div>
                </div>
            </div>
            <div class="send">
                <a class="send-menu"></a>
                <div class="send-box">
                    <input type="text" value="마우스 오버하세요"></input>
                    <button>전송</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        var asso;
        var tokki;
        var babba;

        $(document).ready(function(){
            $('.talkroom-button').click(function(){
                $('.talkroom-List').stop().fadeOut('normal');
            });
            $('.back').click(function(){
                $('.talkroom-List').stop().fadeIn('normal');
            });
            $('.talk-menu-item > a').click(function(){
                $('.error2').stop().fadeIn('slow').fadeOut('slow');
            });
            $('.send-box > button').click(function(){
                $('.error1').stop().fadeIn('slow').fadeOut('slow');
            });

            asso = {
            _isReverse:false,
            _timer:0,
            appInit:function(){
                var _this = asso;
                _this.layout();
                _this.reset();
                _this.resetInit();
            },
            layout:function(){
                this.$el = $('.imo1');
            },
            reset:function(){
                this._cuId = 0;
                this._max = 24;
                this._col = 6;
                this._row = 4;
                this._maxW = 1080;
                this._maxH = 720;
                this._width = this._maxW / this._col;   //144
                this._height = this._maxH / this._row;  //144
                this.update();
            },
            resetInit:function(){

            },
            play:function(event){
                var _this = asso;
                clearInterval(_this._timer);
                if(event == false){
                    _this._isReverse = false;
                }else if(event == true){
                    _this._isReverse = true;
                }
                _this._timer = setInterval(_this.progress, 60);
            },
            stop:function(){

            },
            progress:function(){
                var _this = asso;
                if(!_this._isReverse){
                    //순서대로
                    _this._cuId++;
                }else {
                    //역순으로
                    _this._cuId--;

                }


                if(_this._cuId >= _this._max - 1){
                    _this._cuId = _this._max - 1;
                } else if(_this._cuId < 0){
                    _this._cuId = 0;
                }

                _this.update();
            },
            update:function(){
                var _this = asso, x, y;
                // _this._cuId;
                //_this._cuId = 10;
                //************************************************
                x = _this._cuId % _this._row * _this._width * -1;
                y = Math.floor(_this._cuId / _this._col) * _this._height * -1;
                //************************************************
                _this.$el.css({'background-position':x + 'px ' + y + 'px'});
                
            
            }
        };
        asso.appInit();

        $('.imo1').mouseenter(function(){
            asso.play(false);
        });
        $('.imo1').mouseleave(function(){
            asso.play(true);
        });

        tokki = {
            _isReverse:false,
            _timer:0,
            appInit:function(){
                var _this = tokki;
                _this.layout();
                _this.reset();
                _this.resetInit();
            },
            layout:function(){
                this.$el = $('.imo2');
            },
            reset:function(){
                this._cuId = 0;
                this._max = 36;
                this._col = 6;
                this._row = 6;
                this._maxW = 1080;
                this._maxH = 1080;
                this._width = this._maxW / this._col;   //144
                this._height = this._maxH / this._row;  //144
                this.update();
            },
            resetInit:function(){

            },
            play:function(event){
                var _this = tokki;
                clearInterval(_this._timer);
                if(event == false){
                    _this._isReverse = false;
                }else if(event == true){
                    _this._isReverse = true;
                }
                _this._timer = setInterval(_this.progress, 60);
            },
            stop:function(){

            },
            progress:function(){
                var _this = tokki;
                if(!_this._isReverse){
                    //순서대로
                    _this._cuId++;
                }else {
                    //역순으로
                    _this._cuId--;

                }


                if(_this._cuId >= _this._max - 1){
                    _this._cuId = _this._max - 1;
                } else if(_this._cuId < 0){
                    _this._cuId = 0;
                }

                _this.update();
            },
            update:function(){
                var _this = tokki, x, y;
                // _this._cuId;
                //_this._cuId = 10;
                //************************************************
                x = _this._cuId % _this._row * _this._width * -1;
                y = Math.floor(_this._cuId / _this._col) * _this._height * -1;
                //************************************************
                _this.$el.css({'background-position':x + 'px ' + y + 'px'});
                
            
            }
        };
        tokki.appInit();

        $('.imo2').mouseenter(function(){
            tokki.play(false);
        });
        $('.imo2').mouseleave(function(){
            tokki.play(true);
        });


        babba = {
            _isReverse:false,
            _timer:0,
            appInit:function(){
                var _this = babba;
                _this.layout();
                _this.reset();
                _this.resetInit();
            },
            layout:function(){
                this.$el = $('.imo3');
            },
            reset:function(){
                this._cuId = 0;
                this._max = 24;
                this._col = 6;
                this._row = 4;
                this._maxW = 1080;
                this._maxH = 720;
                this._width = this._maxW / this._col;   //144
                this._height = this._maxH / this._row;  //144
                this.update();
            },
            resetInit:function(){

            },
            play:function(event){
                var _this = babba;
                clearInterval(_this._timer);
                if(event == false){
                    _this._isReverse = false;
                }else if(event == true){
                    _this._isReverse = true;
                }
                _this._timer = setInterval(_this.progress, 60);
            },
            stop:function(){

            },
            progress:function(){
                var _this = babba;
                if(!_this._isReverse){
                    //순서대로
                    _this._cuId++;
                }else {
                    //역순으로
                    _this._cuId--;

                }


                if(_this._cuId >= _this._max - 1){
                    _this._cuId = _this._max - 1;   
                } else if(_this._cuId < 0){
                    _this._cuId = 0;
                }

                _this.update();
            },
            update:function(){
                var _this = babba, x, y;
                // _this._cuId;
                //_this._cuId = 10;
                //************************************************
                x = _this._cuId % _this._row * _this._width * -1;
                y = Math.floor(_this._cuId / _this._col) * _this._height * -1;
                //************************************************
                _this.$el.css({'background-position':x + 'px ' + y + 'px'});
                
            
            }
        };
        babba.appInit();

        $('.imo3').mouseenter(function(){
            babba.play(false);
        });
        $('.imo3').mouseleave(function(){
            babba.play(true);
        });

        });
    </script>
</body>
</html>