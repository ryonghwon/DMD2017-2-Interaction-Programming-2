<!DOCTYPE HTML>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Sprite Animation</title>
<link rel="stylesheet" href="./css/style.css"/>
<script type="text/javascript" src="./js/libs/jquery.min.js"></script>

</head>
<body>
<div id="wrap">
<div class="zootopia">&nbsp;</div>
<div class="minion">&nbsp;</div>
<div class="go">&nbsp;</div>
<div class="good">&nbsp;</div>
</div>


<script type="text/javascript">
    var Sprite;
    var ani;
    $(document).ready(function(){
        Sprite = {
            _isReverse:false, _timer:0,
            appInit:function(){
                var _this = Sprite;
                //tihs
                //Sprite
                _this.layout();
                _this.reset();
                _this.resetInit();
                
            },
            layout:function(){
                this.$el = $('.minion');
                this.$el2 = $('.zootopia');
            },
            reset:function(){
                this._cuId = 0;
                this._max = 48;
                this._row = 7;
                this._col = 7;
                this._maxW = 1008;
                this._maxH = 1008;
                this._width = this._maxW / this._col;
                this._height = this._maxH / this._row;
                this.update();
            },
            resetInit:function(){

            },
            play:function(){
                var _this = Sprite;
                clearInterval(_this._timer);
                _this._timer = setInterval(_this.progress, 60);
            },
            stop:function(){

            },
            progress:function(){
                var _this = Sprite;
                if(!_this._isReverse){
                    //순방향
                    _this._cuId++;
                }else{
                    //역방향
                }
                // if(_this._cuId < 0){
                //     _this._cuId = 0;
                // }
                if(_this._cuId >= _this._max -1){
                    _this._cuId = _this._max -1;
                }
                _this.update();
            },
            update:function(){
                var _this = Sprite, x, y;
                //this._cuId = 5;
                x = _this._cuId % _this._row * _this._width * -1;
                y = Math.floor(_this._cuId / _this._col) * _this._height * -1;
                _this.$el.css({'background-position': x + 'px ' + y + 'px '});
            
                
            }
        };

        ani = {
            _isReverse:false, _timer:0,
            appInit:function(){
                var _this = ani;
                //tihs
                //Sprite
                _this.layout();
                _this.reset();
                _this.resetInit();
                
            },
            layout:function(){
                this.$go = $('.go');
            },
            reset:function(){
                this._cuId = 0;
                this._max = 12; //이미지 갯수
                this._row = 3;
                this._col = 4;
                this._maxW = 640;
                this._maxH = 480;
                this._width = this._maxW / this._col;
                this._height = this._maxH / this._row;
                this.update();
            },
            resetInit:function(){

            },
            play:function(){
                var _this = ani;
                clearInterval(_this._timer);
                _this._timer = setInterval(_this.progress, 80);
            },
            stop:function(){

            },
            progress:function(){
                var _this = ani;
                if(!_this._isReverse){
                    //순방향
                    _this._cuId++;
                }else{
                    //역방향
                }
                // if(_this._cuId < 0){
                //     _this._cuId = 0;
                // }
                if(_this._cuId >= _this._max -1){
                    _this._cuId = _this._max -1;
                }
                _this.update();
            },
            update:function(){
                var _this = ani, x, y;
                //this._cuId = 5;
                x = _this._cuId % _this._row * _this._width * -1;
                y = Math.floor(_this._cuId / _this._col) * _this._height * -1;
                _this.$go.css({'background-position': x + 'px ' + y + 'px '});
            
                
            }
        };
        
        ani2 = {
            _isReverse:false, _timer:0,
            appInit:function(){
                var _this = ani2;
                //tihs
                //Sprite
                _this.layout();
                _this.reset();
                _this.resetInit();
                
            },
            layout:function(){
                this.$good = $('.good');
            },
            reset:function(){
                this._cuId = 0;
                this._max = 12; //이미지 갯수
                this._row = 3;
                this._col = 4;
                this._maxW = 640;
                this._maxH = 480;
                this._width = this._maxW / this._col;
                this._height = this._maxH / this._row;
                this.update();
            },
            resetInit:function(){

            },
            play:function(){
                var _this = ani2;
                clearInterval(_this._timer);
                _this._timer = setInterval(_this.progress, 80);
            },
            stop:function(){

            },
            progress:function(){
                var _this = ani2;
                if(!_this._isReverse){
                    //순방향
                    _this._cuId++;
                }else{
                    //역방향
                }
                // if(_this._cuId < 0){
                //     _this._cuId = 0;
                // }
                if(_this._cuId >= _this._max -1){
                    _this._cuId = _this._max -1;
                }
                _this.update();
            },
            update:function(){
                var _this = ani2, x, y;
                //this._cuId = 5;
                x = _this._cuId % _this._row * _this._width * -1;
                y = Math.floor(_this._cuId / _this._col) * _this._height * -1;
                _this.$good.css({'background-position': x + 'px ' + y + 'px '});
            
                
            }
        };

        Sprite.appInit();
        ani.appInit();
        ani2.appInit();

    });
</script>
</body>
</html>