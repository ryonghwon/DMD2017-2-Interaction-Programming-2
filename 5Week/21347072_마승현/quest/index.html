<!DOCTYPE HTML>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Example 03</title>
<link rel="stylesheet" href="./css/style-q.css"/>
<script type="text/javascript" src="./js/libs/jquery.min.js"></script>
</head>
<body>

<div class="banner">
    <nav role="navigation" class="paddle-nav">
        <ul>
            <li><button class="arrow prev"></button></li>
            <li><button class="arrow next"></button></li>
        </ul>
    </nav>

    <nav class="dot-nav">
        <ul>
        <li><span class="selected">&nbsp;</span></li><li>
            <span>&nbsp;</span></li><li>
            <span>&nbsp;</span></li><li>
            <span>&nbsp;</span></li><li>
        </ul>
    </nav>

    <div class="banner-wrap">
        <div class="banner-container">
            <div class="banner-item">
                <div class="image-area">
                    <img src="./img/banner/banner-01.jpg"/>
                </div>
                <div class="component text-area">
                    <div class="title">Title 1</div>
                    <div class="desc">Description 1</div>
                </div>
            </div>
            <div class="banner-item">
                <div class="image-area">
                    <img src="./img/banner/banner-02.jpg"/>
                </div>
                <div class="component text-area">
                    <div class="title">Title 2</div>
                    <div class="desc">Description 2</div>
                </div>
            </div>
            <div class="banner-item">
                <div class="image-area">
                    <img src="./img/banner/banner-03.jpg"/>
                </div>
                <div class="component text-area">
                    <div class="title">Title 3</div>
                    <div class="desc">Description 3</div>
                </div>
            </div>
            <div class="banner-item">
                <div class="image-area">
                    <img src="./img/banner/banner-04.jpg"/>
                </div>
                <div class="component text-area">
                    <div class="title">Title 4</div>
                    <div class="desc">Description 4</div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
(function($){
$(document).ready(function(){
//document ready
//selecting
var $ban = $('.banner'),
    $banwrp = $('.banner-wrap'),
    $bancon = $('.banner-container'),
    $banitem = $('.banner-item'),
    $padnav = $('.paddle-nav'),
    $dotnav = $('.dot-nav'),
    $arrprev = $('.arrow.prev'),
    $arrnext = $('.arrow.next');
//Quest 1.
//.banner 노드의 CSS 속성 중 overflow 를 hidden 으로 변경합니다.
//Answer 1.
$ban.css('overflow','hidden');
//Quest 2.
//.banner-wrap 노드의 width 와 height 를 .banner 의 크기와 동일하게 적용합니다.
//Answer 2.
var banSize = [$ban.width(),$ban.height()];
$banwrp.width(banSize[0]);
$banwrp.height(banSize[1]);
//Quest 3.
//.banner-container 노드의 width 를 .banner-wrap 의 width x .banner-item 의 개수 의 너비만큼 계산하여 적용하고, height 는 100% 로 지정합니다.
//Answer 3.
var contentSize = $banwrp.width() * $banitem.length;
$bancon.width(contentSize);
//Quest 4.
//.banner-item 노드의 float 속성을 left 로 변경하고, width 를 .banner-wrap 의 width 와 동일하게, height 를 100% 로 지정합니다.
//Answer 4.
$banitem.css({
    float:'left',
    width: banSize[0],
    height:'100%'
})
//Quest 5.
//.banner-item 의 자식노드 img 요소의 width 를 100% 로 지정합니다.
//Answer 5.
$banitem.find('img').width('100%');
//Quest 6.
//.paddle-nav 의 자식노드 .arrow.prev 노드의 left 속성을 18px 로 지정합니다.
//Answer 6.
$padnav.find('.arrow.prev').css('left','18px');
//Quest 7.
//.paddle-nav 의 자식노드 .arrow.next 노드의 right 속성을 18px 로 지정합니다.
//Answer 7.
$padnav.find('.arrow.next').css('right','18px');
//Quest 8.
//.dot-nav 노드의 bottom 속성을 20px 으로 지정합니다.
//Answer 8.
$dotnav.css('bottom','20px');
//Quest 9, 10
//0 값을 가지는 _id 변수를 선언하고 slideLeft 함수를 생성합니다.
//slideLeft 함수 실행시 .banner-container 를 자식노드 .banner-item 의 width 만큼 왼쪽으로 이동하도록 애니메이션을 작성합시다.
//(힌트. 함수 실행 시 _id 변수의 값을 -- 하여 감소시키고 위치값 계산)
//slideRight 함수를 생성하고 실행시 .banner-container 를 자식노드 .banner-item 의 width 만큼 오른쪽으로 이동하도록 애니메이션을 작성합시다.
//(힌트. 함수 실행 시 _id 변수의 값을 ++ 하여 증감시키고 위치값 계산)
//Answer 9, 10
var _id = 0;
console.log('Title ' + (_id+1));
var slide = {
    left:function(){
        if(_id > 0){
            --_id;
            $bancon.stop().animate({
                right:_id * $banitem.width() + 'px'
            },600,dotSelect);
            console.log('Title ' + (_id+1));
        }
    },
    right:function(){
        if(_id+1 < $banitem.length){
            ++_id;
            $bancon.stop().animate({
                right:_id * $banitem.width() + 'px'
            },600,dotSelect);
            console.log('Title ' + (_id+1));
        }
    }
}
//Quest 11.
//.arrow.prev 노드 클릭시 slideLeft, .arrow.next 노드 클릭시 slideRight 이벤트가 실행되도록 적용합니다.
//Answer 11.
$arrprev.on('click',slide.left);
$arrnext.on('click',slide.right);
//Quest 12.
//dotSelect 함수를 생성하고 현재 보여지는 이미지의 순서에 따라 span 에 ‘selected’ 클래스를 추가합니다.
//클래스 추가에 앞서 이전에 지정 된 span.selected 클래스가 있을 경우 삭제시킵니다.
//slideLeft, slideRight 함수에서 동작하는 애니메이션이 끝나는 함수(callback)에서 dotSelect 함수가 실행될 수 있도록 적용합니다.
//Answer 12.
var dotSelect = function(){
    $dotnav.find('span').removeClass('selected').eq(_id).addClass('selected');
    paddleCheck();
}
//Quest 13.
//paddleCheck 함수를 생성하고 해당 조건문을 적용합니다.
//(1) _id 값이 0 일 경우, .arrow.prev 노드에 'disabled' 클래스를 추가합니다.
//(2) _id 값이 보여지는 이미지의 마지막에 해당되는 경우, arrow.next 노드에 'disabled' 클래스를 추가합니다.
//(3) _id 값이 0 이나 마지막이 아닐 경우, .arrow 노드의 'disabled' 클래스를 모두 삭제합니다.
//DOM이 준비되면 초기에 paddleCheck 함수를 실행하고, slideLeft, slideRight 함수에서 동작하는 애니메이션이 끝나는 시점(callback)에 paddleCheck 함수가 실행될 수 있도록 적용합니다.
//Answer 13.
var paddleCheck = function(){
    switch(_id){
        case 0:
            $arrprev.addClass('disabled');
            $arrnext.removeClass('disabled');
            break;
        case $banitem.length-1:
            $arrnext.addClass('disabled');
            $arrprev.removeClass('disabled');
            break;
        default:
            $('.arrow').removeClass('disabled');
    }
}
paddleCheck();
$dotnav.find('span').on('click',function(){
    _id = $(this).parent().index();
    $bancon.stop().animate({
        right: _id * $banitem.width() + 'px'
    },600,dotSelect);
    console.log('Title ' + (_id+1));
});
//document
});//ready
})(jQuery);
</script>
</body>
</html>